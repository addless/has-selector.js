<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        div:nth-child(1):has(:not(:checked)) {
            background: pink;
        }
        div:nth-child(2):not(:has(:checked)) {
            background: cornflowerblue;
        }
        div:nth-child(1):has(:not(:checked)) + div:nth-child(2):not(:has(:checked)) + div {
            background: seagreen;
        }
    </style>
    <script src="has-selector.js"></script>
</head>
<body>
    <div>foo<input type="checkbox"></div>
    <div>bar<input type="checkbox"></div>
    <div>baz</div>
</body>
</html>